<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<header>
  <h1>JSON and AJAX</h1>
  <div id="btn">Fetch Info for 3 New Animals</div>
</header>

<div id="animal-info"></div>

<script>
var pageCounter = 1;
var animalContainer = document.getElementById("animal-info");
var btn = document.getElementById("btn");
Chart.defaults.global.defaultFontFamily = "Lato";
Chart.defaults.global.defaultFontSize = 18;


  var ourRequest = new XMLHttpRequest();
  ourRequest.open('GET', 'https://learnwebcode.github.io/json-example/animals-' + pageCounter + '.json');
  ourRequest.onload = function() {
    if (ourRequest.status >= 200 && ourRequest.status < 400) {
      var ourData = JSON.parse(ourRequest.responseText);
      
	  
	  var densityData = {
		  label: 'Density of Planets (kg/m3)',
		  data: [5427, 5243, 5514, 3933, 1326, 687, 1271, 1638],
		  backgroundColor: [
			'rgba(0, 99, 132, 0.6)',
			'rgba(30, 99, 132, 0.6)',
			'rgba(60, 99, 132, 0.6)',
			'rgba(90, 99, 132, 0.6)',
			'rgba(120, 99, 132, 0.6)',
			'rgba(150, 99, 132, 0.6)',
			'rgba(180, 99, 132, 0.6)',
			'rgba(210, 99, 132, 0.6)',
			'rgba(240, 99, 132, 0.6)'
		  ],
		  borderColor: [
			'rgba(0, 99, 132, 1)',
			'rgba(30, 99, 132, 1)',
			'rgba(60, 99, 132, 1)',
			'rgba(90, 99, 132, 1)',
			'rgba(120, 99, 132, 1)',
			'rgba(150, 99, 132, 1)',
			'rgba(180, 99, 132, 1)',
			'rgba(210, 99, 132, 1)',
			'rgba(240, 99, 132, 1)'
		  ],
		  borderWidth: 2,
		  hoverBorderWidth: 0
		};

		var chartOptions = {
		  scales: {
			yAxes: [{
			  barPercentage: 0.5
			}]
		  },
		  elements: {
			rectangle: {
			  borderSkipped: 'left',
			}
		  }
		};

		var barChart = new Chart(densityCanvas, {
		  type: 'horizontalBar',
		  data: {
			labels: ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"],
			datasets: [densityData],
		  },
		  options: chartOptions
		});
      
	  
	  
	  
	  
	  
	  
	  
	  
    } else {
      console.log("We connected to the server, but it returned an error.");
    }
    
  };

  ourRequest.onerror = function() {
    console.log("Connection error");
  };

  ourRequest.send();
 
);



</script>